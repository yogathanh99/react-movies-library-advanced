{"ast":null,"code":"import React, { useState, useEffect } from 'react';\nimport axios from 'axios';\nimport HeroImage from '../elements/HeroImage';\nimport SearchBar from '../elements/SearchBar';\nimport FourColGrid from '../elements/FourColGrid';\nimport MovieThumb from '../elements/MovieThumb';\nimport LoadMoreBtn from '../elements/LoadMoreBtn';\nimport Spinner from '../elements/Spinner';\nimport { API_KEY, API_URL, IMAGE_BASE_URL, POSTER_SIZE, BACKDROP_SIZE } from '../../config';\nimport './Home.css'; // class Home extends React.Component {\n//   state = {\n//     movies: [],\n//     heroImage: null,\n//     loading: false,\n//     currentPage: 0,\n//     totalPages: 0,\n//     searchTerm: '',\n//   };\n//   componentDidMount() {\n//     this.setState({ loading: true });\n//     const endpoint = `${API_URL}movie/popular?api_key=${API_KEY}&language=en-US&page=1`;\n//     this.fetchItems(endpoint);\n//   }\n//   fetchItems = async endpoint => {\n//     const data = await axios.get(endpoint).then(res => res.data);\n//     this.setState({\n//       movies: [...this.state.movies, ...data.results],\n//       heroImage: data.results[0],\n//       loading: false,\n//       currentPage: data.page,\n//       totalPages: data.total_pages,\n//     });\n//   };\n//   searchItem = searchTerm => {\n//     let endpoint = '';\n//     this.setState({\n//       movies: [],\n//       loading: true,\n//       searchTerm,\n//     });\n//     if (searchTerm === '') {\n//       endpoint = `${API_URL}movie/popular?api_key=${API_KEY}&language=en-US&page=1`;\n//     } else {\n//       endpoint = `${API_URL}search/movie?api_key=${API_KEY}&language=en-US&query=${searchTerm}`;\n//     }\n//     this.fetchItems(endpoint);\n//   };\n//   loadMoreItems = () => {\n//     let endpoint = '';\n//     const { searchTerm, currentPage } = this.state;\n//     this.setState({ loading: true });\n//     if (searchTerm === '') {\n//       endpoint = `${API_URL}movie/popular?api_key=${API_KEY}&language=en-US&page=${currentPage +\n//         1}`;\n//     } else {\n//       endpoint = `${API_URL}search/movie?api_key=${API_KEY}&language=en-US&query=${searchTerm}&page=${currentPage +\n//         1}`;\n//     }\n//     this.fetchItems(endpoint);\n//   };\n//   render() {\n//     const { movies, heroImage, searchTerm, loading } = this.state;\n//     return (\n//       <div className='rmdb-home'>\n//         {heroImage ? (\n//           <HeroImage\n//             image={`${IMAGE_BASE_URL}${BACKDROP_SIZE}${heroImage.backdrop_path}`}\n//             title={heroImage.original_title}\n//           >\n//             {heroImage.overview}\n//           </HeroImage>\n//         ) : null}\n//         <SearchBar callback={this.searchItem} />\n//         <div className='rmdb-home-grid'>\n//           <FourColGrid\n//             header={searchTerm ? 'Search Result' : 'Popular Movies'}\n//             loading={loading}\n//           >\n//             {movies.map((movie, i) => (\n//               <MovieThumb\n//                 key={i}\n//                 clickable={true}\n//                 image={\n//                   movie.poster_path\n//                     ? `${IMAGE_BASE_URL}${POSTER_SIZE}${movie.poster_path}`\n//                     : './images/no_image.jpg'\n//                 }\n//                 movieId={movie.id}\n//                 movieName={movie.original_title}\n//               />\n//             ))}\n//           </FourColGrid>\n//         </div>\n//         <Spinner />\n//         <LoadMoreBtn />\n//       </div>\n//     );\n//   }\n// }\n\nexport default Home;","map":{"version":3,"sources":["/Users/thanhvo/Self-Learning/react-movies-library/src/components/Home/index.js"],"names":["React","useState","useEffect","axios","HeroImage","SearchBar","FourColGrid","MovieThumb","LoadMoreBtn","Spinner","API_KEY","API_URL","IMAGE_BASE_URL","POSTER_SIZE","BACKDROP_SIZE","Home"],"mappings":"AAAA,OAAOA,KAAP,IAAgBC,QAAhB,EAA0BC,SAA1B,QAA2C,OAA3C;AACA,OAAOC,KAAP,MAAkB,OAAlB;AAEA,OAAOC,SAAP,MAAsB,uBAAtB;AACA,OAAOC,SAAP,MAAsB,uBAAtB;AACA,OAAOC,WAAP,MAAwB,yBAAxB;AACA,OAAOC,UAAP,MAAuB,wBAAvB;AACA,OAAOC,WAAP,MAAwB,yBAAxB;AACA,OAAOC,OAAP,MAAoB,qBAApB;AACA,SACEC,OADF,EAEEC,OAFF,EAGEC,cAHF,EAIEC,WAJF,EAKEC,aALF,QAMO,cANP;AAOA,OAAO,YAAP,C,CAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AAEA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,eAAeC,IAAf","sourcesContent":["import React, { useState, useEffect } from 'react';\nimport axios from 'axios';\n\nimport HeroImage from '../elements/HeroImage';\nimport SearchBar from '../elements/SearchBar';\nimport FourColGrid from '../elements/FourColGrid';\nimport MovieThumb from '../elements/MovieThumb';\nimport LoadMoreBtn from '../elements/LoadMoreBtn';\nimport Spinner from '../elements/Spinner';\nimport {\n  API_KEY,\n  API_URL,\n  IMAGE_BASE_URL,\n  POSTER_SIZE,\n  BACKDROP_SIZE,\n} from '../../config';\nimport './Home.css';\n\n// class Home extends React.Component {\n//   state = {\n//     movies: [],\n//     heroImage: null,\n//     loading: false,\n//     currentPage: 0,\n//     totalPages: 0,\n//     searchTerm: '',\n//   };\n\n//   componentDidMount() {\n//     this.setState({ loading: true });\n//     const endpoint = `${API_URL}movie/popular?api_key=${API_KEY}&language=en-US&page=1`;\n//     this.fetchItems(endpoint);\n//   }\n\n//   fetchItems = async endpoint => {\n//     const data = await axios.get(endpoint).then(res => res.data);\n//     this.setState({\n//       movies: [...this.state.movies, ...data.results],\n//       heroImage: data.results[0],\n//       loading: false,\n//       currentPage: data.page,\n//       totalPages: data.total_pages,\n//     });\n//   };\n\n//   searchItem = searchTerm => {\n//     let endpoint = '';\n//     this.setState({\n//       movies: [],\n//       loading: true,\n//       searchTerm,\n//     });\n\n//     if (searchTerm === '') {\n//       endpoint = `${API_URL}movie/popular?api_key=${API_KEY}&language=en-US&page=1`;\n//     } else {\n//       endpoint = `${API_URL}search/movie?api_key=${API_KEY}&language=en-US&query=${searchTerm}`;\n//     }\n//     this.fetchItems(endpoint);\n//   };\n\n//   loadMoreItems = () => {\n//     let endpoint = '';\n//     const { searchTerm, currentPage } = this.state;\n\n//     this.setState({ loading: true });\n//     if (searchTerm === '') {\n//       endpoint = `${API_URL}movie/popular?api_key=${API_KEY}&language=en-US&page=${currentPage +\n//         1}`;\n//     } else {\n//       endpoint = `${API_URL}search/movie?api_key=${API_KEY}&language=en-US&query=${searchTerm}&page=${currentPage +\n//         1}`;\n//     }\n\n//     this.fetchItems(endpoint);\n//   };\n\n//   render() {\n//     const { movies, heroImage, searchTerm, loading } = this.state;\n\n//     return (\n//       <div className='rmdb-home'>\n//         {heroImage ? (\n//           <HeroImage\n//             image={`${IMAGE_BASE_URL}${BACKDROP_SIZE}${heroImage.backdrop_path}`}\n//             title={heroImage.original_title}\n//           >\n//             {heroImage.overview}\n//           </HeroImage>\n//         ) : null}\n//         <SearchBar callback={this.searchItem} />\n//         <div className='rmdb-home-grid'>\n//           <FourColGrid\n//             header={searchTerm ? 'Search Result' : 'Popular Movies'}\n//             loading={loading}\n//           >\n//             {movies.map((movie, i) => (\n//               <MovieThumb\n//                 key={i}\n//                 clickable={true}\n//                 image={\n//                   movie.poster_path\n//                     ? `${IMAGE_BASE_URL}${POSTER_SIZE}${movie.poster_path}`\n//                     : './images/no_image.jpg'\n//                 }\n//                 movieId={movie.id}\n//                 movieName={movie.original_title}\n//               />\n//             ))}\n//           </FourColGrid>\n//         </div>\n//         <Spinner />\n//         <LoadMoreBtn />\n//       </div>\n//     );\n//   }\n// }\n\nexport default Home;\n"]},"metadata":{},"sourceType":"module"}